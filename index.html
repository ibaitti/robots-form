<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROBOTS - Pre-Call Qualification</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-page-start: #F4F5FB;
            --bg-page-end: #E7F0FF;
            --bg-card-glass: rgba(255, 255, 255, 0.82);
            --text-primary: #0F172A;
            --text-secondary: #64748B;
            --text-tertiary: #94A3B8;
            --border-soft: #E2E8F0;
            --border-strong: #CBD5E1;
            --cta-primary: #2563EB;
            --cta-primary-hover: #4F46E5;
            --accent-cyan: #06B6D4;
            --accent-gold: #F4C15D;
            --success: #10B981;
        }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: linear-gradient(135deg, #F4F5FB 0%, #E7F0FF 100%);
            min-height: 100vh;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Space Grotesk', system-ui, sans-serif;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.82);
            backdrop-filter: blur(18px);
            border-radius: 24px;
            border: 1px solid rgba(148, 163, 184, 0.35);
            box-shadow: 0 18px 45px rgba(15, 23, 42, 0.12);
            transition: box-shadow 0.3s ease;
        }

        .glass-card:hover {
            box-shadow: 0 24px 70px rgba(15, 23, 42, 0.16);
        }

        .starfield {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 40vh;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            width: 1px;
            height: 1px;
            background: rgba(255, 255, 255, 0.35);
            border-radius: 50%;
            animation: twinkle 4s infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }

        .btn-primary {
            background: var(--cta-primary);
            color: white;
            padding: 12px 22px;
            border-radius: 9999px;
            font-weight: 500;
            transition: all 0.15s;
            border: none;
            cursor: pointer;
        }

        .btn-primary:hover:not(:disabled) {
            background: linear-gradient(135deg, #2563EB, #4F46E5);
            box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.25);
        }

        .btn-primary:active:not(:disabled) {
            transform: scale(0.95);
            background: #1D4ED8;
        }

        .btn-primary:disabled {
            background: #93C5FD;
            color: #E5E7EB;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: transparent;
            border: 1px solid var(--border-soft);
            color: var(--text-primary);
            padding: 12px 22px;
            border-radius: 9999px;
            font-weight: 500;
            transition: all 0.15s;
            cursor: pointer;
        }

        .btn-secondary:hover {
            border-color: var(--accent-cyan);
            background: rgba(6, 182, 212, 0.04);
        }

        .input-field {
            background: #F9FAFB;
            border: 1px solid var(--border-soft);
            border-radius: 12px;
            padding: 12px 16px;
            width: 100%;
            font-size: 16px;
            color: var(--text-primary);
            transition: all 0.15s;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--accent-cyan);
            box-shadow: 0 0 0 1px rgba(6, 182, 212, 0.6);
        }

        .input-field:disabled {
            background: #EEF2FF;
            color: #9CA3AF;
        }

        .textarea-gold {
            border: 1px solid rgba(244, 193, 93, 0.7);
            box-shadow: 0 0 40px rgba(244, 193, 93, 0.35);
        }

        .radio-option {
            border: 1px solid var(--border-soft);
            border-radius: 12px;
            padding: 14px 18px;
            transition: all 0.15s;
            cursor: pointer;
        }

        .radio-option:hover {
            border-color: rgba(6, 182, 212, 0.5);
        }

        .radio-option.selected {
            background: rgba(6, 182, 212, 0.10);
            border-color: var(--accent-cyan);
        }

        .progress-track {
            height: 6px;
            background: var(--border-soft);
            border-radius: 9999px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-cyan);
            box-shadow: 0 0 18px rgba(6, 182, 212, 0.55);
            transition: width 0.3s ease;
        }

        .progress-fill-gold {
            background: linear-gradient(90deg, #FDE68A, #F4C15D);
            box-shadow: 0 0 18px rgba(244, 193, 93, 0.55);
        }

        .gold-dot {
            width: 6px;
            height: 6px;
            background: var(--accent-gold);
            border-radius: 50%;
            display: inline-block;
            margin-left: 4px;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="starfield" id="starfield"></div>

    <div class="relative z-10 min-h-screen flex flex-col items-center justify-center px-4 py-8">
        <div id="app" class="w-full max-w-2xl"></div>
    </div>

    <script>
        // Initialize starfield
        const starfield = document.getElementById('starfield');
        for (let i = 0; i < 80; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 4 + 's';
            if (Math.random() > 0.7) {
                star.style.width = '2px';
                star.style.height = '2px';
            }
            starfield.appendChild(star);
        }

        // Agent names pool
        const agentNames = ['Atlas', 'Nova', 'Relay', 'Helix', 'Circuit'];

        // State
        const state = {
            currentStep: 0,
            totalSteps: 6,
            isSubmitting: false,
            isComplete: false,
            showIntro: true,
            errors: {},
            agentName: agentNames[Math.floor(Math.random() * agentNames.length)],
            formData: {
                workflows: '',
                hoursPerWeek: 10,
                vision90Day: '',
                businessAndCustomer: '',
                role: '',
                companySize: '',
                urgency: ''
            }
        };

        // Step labels
        const stepLabels = ['Context', 'Money Leaks', 'Workload Map', 'Automation Fit', 'ROI Preview', 'Call Setup'];

        // ROI Calculation
        function calculateROI() {
            const hoursPerWeek = state.formData.hoursPerWeek || 0;
            const monthlyHours = Math.round(hoursPerWeek * 4.33);
            const hourlyCost = 50;
            const monthlyBurn = Math.round(monthlyHours * hourlyCost);
            const automationRate = 0.7;
            const savings = Math.round(monthlyBurn * automationRate);

            return {
                hoursPerWeek,
                monthlyHours,
                monthlyBurn,
                savings,
                hourlyCost,
                automationRate
            };
        }

        // Validation
        function validateStep(step) {
            const errors = {};

            switch (step) {
                case 1:
                    if (!state.formData.workflows.trim()) {
                        errors.workflows = 'Please describe your workflows';
                    }
                    if (!state.formData.hoursPerWeek || state.formData.hoursPerWeek <= 0) {
                        errors.hoursPerWeek = 'Please enter hours per week';
                    }
                    break;
                case 2:
                    if (!state.formData.vision90Day.trim()) {
                        errors.vision90Day = 'Please share your vision';
                    }
                    break;
                case 3:
                    if (!state.formData.businessAndCustomer.trim()) {
                        errors.businessAndCustomer = 'Please describe your business';
                    }
                    break;
                case 4:
                    if (!state.formData.role) {
                        errors.role = 'Please select your role';
                    }
                    break;
                case 5:
                    if (!state.formData.companySize) {
                        errors.companySize = 'Please select company size';
                    }
                    break;
                case 6:
                    if (!state.formData.urgency) {
                        errors.urgency = 'Please select urgency level';
                    }
                    break;
            }

            state.errors = errors;
            return Object.keys(errors).length === 0;
        }

        // Navigation
        function startForm() {
            state.showIntro = false;
            state.currentStep = 1;
            render();
        }

        function handleNext() {
            if (validateStep(state.currentStep)) {
                state.currentStep = Math.min(state.currentStep + 1, state.totalSteps);
                render();
            } else {
                render();
            }
        }

        function handleBack() {
            state.currentStep = Math.max(state.currentStep - 1, 1);
            render();
        }

        async function handleSubmit() {
            if (!validateStep(state.currentStep)) {
                render();
                return;
            }

            state.isSubmitting = true;
            render();

            const roi = calculateROI();
            const payload = {
                submissionId: 'sub_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                timestamp: new Date().toISOString(),
                source: 'robots-pre-call-qualification',
                agentName: state.agentName,
                workflows: state.formData.workflows,
                vision90Day: state.formData.vision90Day,
                businessAndCustomer: state.formData.businessAndCustomer,
                role: state.formData.role,
                companySize: state.formData.companySize,
                urgency: state.formData.urgency,
                roi: roi,
                userAgent: navigator.userAgent
            };

            try {
                console.log('Submitting to webhook:', payload);
                
                // In production, call your backend
                const response = await fetch('https://zerogpt.app.n8n.cloud/webhook-test/form-one', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error('Submission failed');
                }

                state.isComplete = true;
            } catch (error) {
                console.error('Submission error:', error);
                alert('Something went wrong sending your answers. Try again.');
            } finally {
                state.isSubmitting = false;
                render();
            }
        }

        // Render functions
        function renderHeader() {
            return '<div class="mb-8"><div class="flex items-start justify-between mb-4"><div><h1 class="text-3xl font-bold text-[#0F172A]">ROBOTS</h1><p class="text-sm text-[#64748B] mt-1">AI Employees For Revenue Teams</p></div><div class="text-right text-xs text-[#64748B]"><div class="flex items-center gap-2 mb-1"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/></svg><span>Connection secure • Encrypted</span></div><div>Average completion &lt; 2:30</div></div></div></div>';
        }

        function renderIntroCard() {
            return '<div class="glass-card p-8 fade-in">' + renderHeader() + '<div class="mb-8"><h2 class="text-2xl font-semibold text-[#0F172A] mb-2">Pre-Call Qualification • 6 steps</h2><p class="text-[#64748B]">In 6 questions we will identify where an AI employee can fit into your business</p></div><div class="space-y-4 mb-8"><div class="flex gap-4"><div class="flex-shrink-0 w-8 h-8 rounded-full bg-[#06B6D4] bg-opacity-10 flex items-center justify-center text-[#06B6D4] font-semibold">1</div><div><h3 class="font-semibold text-[#0F172A] mb-1">Map 3–5 repetitive workflows</h3><p class="text-sm text-[#64748B]">Identify what is burning 30–90 days of manual effort</p></div></div><div class="flex gap-4"><div class="flex-shrink-0 w-8 h-8 rounded-full bg-[#06B6D4] bg-opacity-10 flex items-center justify-center text-[#06B6D4] font-semibold">2</div><div><h3 class="font-semibold text-[#0F172A] mb-1">Align with growth target</h3><p class="text-sm text-[#64748B]">Revenue, pipeline, or efficiency—what moves the needle?</p></div></div><div class="flex gap-4"><div class="flex-shrink-0 w-8 h-8 rounded-full bg-[#06B6D4] bg-opacity-10 flex items-center justify-center text-[#06B6D4] font-semibold">3</div><div><h3 class="font-semibold text-[#0F172A] mb-1">30-minute mapping call</h3><p class="text-sm text-[#64748B]">See exactly where your AI employee fits</p></div></div></div><button onclick="startForm()" class="btn-primary w-full">Start Pre-Call Qualification</button></div>';
        }

        function renderProgressBar() {
            const progress = (state.currentStep / state.totalSteps) * 100;
            const isStep2 = state.currentStep === 2;

            return '<div class="mb-6"><div class="flex items-center justify-between mb-2"><div class="text-sm text-[#64748B]">Step <span class="font-semibold text-[#0F172A]">' + state.currentStep + ' of ' + state.totalSteps + '</span></div><div class="text-xs text-[#06B6D4] flex items-center">' + stepLabels[state.currentStep - 1] + (isStep2 ? '<span class="gold-dot"></span>' : '') + '</div></div><div class="progress-track"><div class="progress-fill ' + (isStep2 ? 'progress-fill-gold' : '') + '" style="width: ' + progress + '%"></div></div></div>';
        }

        function renderStep1() {
            return '<div class="fade-in"><h2 class="text-2xl font-semibold text-[#0F172A] mb-3">If you had a digital employee that could handle 3–5 repetitive workflows in the next 30 days, which ones would you pick first?</h2><p class="text-sm text-[#64748B] mb-6">Examples: inbox triage, lead qualification, repetitive reporting, CRM updates</p><div class="space-y-4"><div><label class="block text-sm font-medium text-[#0F172A] mb-2">Your workflows</label><textarea id="workflows" rows="5" placeholder="List the workflows you would automate first..." class="input-field resize-none">' + state.formData.workflows + '</textarea>' + (state.errors.workflows ? '<p class="text-red-600 text-xs mt-1">' + state.errors.workflows + '</p>' : '') + '</div><div><label class="block text-sm font-medium text-[#0F172A] mb-2">Hours per week on these workflows</label><input type="number" id="hoursPerWeek" inputmode="decimal" min="0" max="168" value="' + state.formData.hoursPerWeek + '" class="input-field">' + (state.errors.hoursPerWeek ? '<p class="text-red-600 text-xs mt-1">' + state.errors.hoursPerWeek + '</p>' : '') + '</div></div></div>';
        }

        function renderStep2() {
            return '<div class="fade-in"><div class="border-t-2 border-[#F4C15D] pt-1 -mt-1 mb-4"><div class="flex items-center gap-2 mb-3"><div class="w-2 h-2 rounded-full bg-[#F4C15D]"></div><span class="text-xs font-medium text-[#F4C15D] uppercase tracking-wide">Future Vision</span></div></div><h2 class="text-2xl font-semibold text-[#0F172A] mb-3">90 days from now, if this works exactly as you want—what is the one thing you would love to be true about your business?</h2><p class="text-sm text-[#64748B] mb-6">Think about: faster response times, more qualified leads, more booked calls, hours saved per week, increased monthly revenue</p><textarea id="vision90Day" rows="5" placeholder="In 90 days, I want..." class="input-field textarea-gold resize-none">' + state.formData.vision90Day + '</textarea>' + (state.errors.vision90Day ? '<p class="text-red-600 text-xs mt-1">' + state.errors.vision90Day + '</p>' : '') + '</div>';
        }

        function renderStep3() {
            return '<div class="fade-in"><h2 class="text-2xl font-semibold text-[#0F172A] mb-3">What does your company sell, and who is your ideal customer?</h2><p class="text-sm text-[#64748B] mb-6">Help us understand your business so we can tailor the AI employee to your needs</p><textarea id="businessAndCustomer" rows="5" placeholder="We sell... to..." class="input-field resize-none">' + state.formData.businessAndCustomer + '</textarea>' + (state.errors.businessAndCustomer ? '<p class="text-red-600 text-xs mt-1">' + state.errors.businessAndCustomer + '</p>' : '') + '</div>';
        }

        function renderStep4() {
            const roles = [
                { value: 'founder_owner', label: 'Founder / Owner' },
                { value: 'c_level_vp', label: 'C-Level / VP' },
                { value: 'operations_systems', label: 'Operations / Systems' },
                { value: 'marketing_sales', label: 'Marketing / Sales' },
                { value: 'other', label: 'Other' }
            ];

            let html = '<div class="fade-in"><h2 class="text-2xl font-semibold text-[#0F172A] mb-6">Which best describes your role?</h2><div class="space-y-3">';
            
            roles.forEach(function(role) {
                const isSelected = state.formData.role === role.value;
                html += '<label class="radio-option flex items-center ' + (isSelected ? 'selected' : '') + '"><input type="radio" name="role" value="' + role.value + '" ' + (isSelected ? 'checked' : '') + ' class="w-4 h-4 text-[#2563EB] border-gray-300 focus:ring-[#06B6D4] focus:ring-2"><span class="ml-3 text-[#0F172A] font-medium">' + role.label + '</span></label>';
            });
            
            html += '</div>' + (state.errors.role ? '<p class="text-red-600 text-sm mt-3">' + state.errors.role + '</p>' : '') + '</div>';
            return html;
        }

        function renderStep5() {
            const sizes = [
                { value: '1_5', label: '1–5' },
                { value: '6_20', label: '6–20' },
                { value: '21_50', label: '21–50' },
                { value: '51_200', label: '51–200' },
                { value: '200_plus', label: '200+' }
            ];

            let html = '<div class="fade-in"><h2 class="text-2xl font-semibold text-[#0F172A] mb-6">How many employees are in your company?</h2><div class="space-y-3">';
            
            sizes.forEach(function(size) {
                const isSelected = state.formData.companySize === size.value;
                html += '<label class="radio-option flex items-center ' + (isSelected ? 'selected' : '') + '"><input type="radio" name="companySize" value="' + size.value + '" ' + (isSelected ? 'checked' : '') + ' class="w-4 h-4 text-[#2563EB] border-gray-300 focus:ring-[#06B6D4] focus:ring-2"><span class="ml-3 text-[#0F172A] font-medium">' + size.label + '</span></label>';
            });
            
            html += '</div>' + (state.errors.companySize ? '<p class="text-red-600 text-sm mt-3">' + state.errors.companySize + '</p>' : '') + '</div>';
            return html;
        }

        function renderStep6() {
            const urgencies = [
                { value: 'info_gathering', label: 'Just gathering information / Not urgent' },
                { value: 'sometime', label: 'Interested, but timing is flexible' },
                { value: 'critical_60_days', label: 'Critical priority in the next 60 days' }
            ];

            const roi = calculateROI();

            let html = '<div class="fade-in"><h2 class="text-2xl font-semibold text-[#0F172A] mb-6">How serious are you about fixing this in the next 60 days?</h2><div class="space-y-3 mb-6">';
            
            urgencies.forEach(function(urgency) {
                const isSelected = state.formData.urgency === urgency.value;
                html += '<label class="radio-option flex items-center ' + (isSelected ? 'selected' : '') + '"><input type="radio" name="urgency" value="' + urgency.value + '" ' + (isSelected ? 'checked' : '') + ' class="w-4 h-4 text-[#2563EB] border-gray-300 focus:ring-[#06B6D4] focus:ring-2"><span class="ml-3 text-[#0F172A] font-medium">' + urgency.label + '</span></label>';
            });
            
            html += '</div>' + (state.errors.urgency ? '<p class="text-red-600 text-sm mb-4">' + state.errors.urgency + '</p>' : '');
            
            html += '<div class="mt-8 p-6 rounded-xl border border-[#06B6D4] border-opacity-30 bg-gradient-to-br from-[#06B6D4] from-opacity-5 to-transparent"><h3 class="text-sm font-semibold text-[#0F172A] uppercase tracking-wide mb-4">Manual Work Burn</h3><div class="grid grid-cols-2 gap-4 mb-4"><div><p class="text-xs text-[#64748B] mb-1">Hours per week</p><p class="text-lg font-semibold text-[#0F172A]">' + roi.hoursPerWeek + ' hrs</p></div><div><p class="text-xs text-[#64748B] mb-1">Average hourly cost</p><p class="text-lg font-semibold text-[#0F172A]">$' + roi.hourlyCost + '</p></div><div><p class="text-xs text-[#64748B] mb-1">Hours burnt / month</p><p class="text-lg font-semibold text-[#0F172A]">' + roi.monthlyHours + ' hrs</p></div><div><p class="text-xs text-[#64748B] mb-1">Money burnt / month</p><p class="text-lg font-semibold text-[#0F172A]">$' + roi.monthlyBurn.toLocaleString() + '</p></div></div><div class="pt-4 border-t border-[#E2E8F0]"><p class="text-xs text-[#64748B] mb-1">Potential savings / month (70% automation)</p><p class="text-2xl font-bold text-[#10B981]">$' + roi.savings.toLocaleString() + '</p></div></div></div>';
            
            return html;
        }

        function renderCompletionScreen() {
            const roi = calculateROI();
            
            return '<div class="glass-card p-8 text-center fade-in"><div class="mb-6"><div class="w-16 h-16 mx-auto mb-4 rounded-full bg-[#10B981] bg-opacity-10 flex items-center justify-center"><svg class="w-8 h-8 text-[#10B981]" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg></div><h1 class="text-3xl font-bold text-[#0F172A] mb-3">Quietly retire manual work, one digital employee at a time.</h1><div class="max-w-xl mx-auto text-[#64748B] space-y-3 mb-8"><p>We will review your answers and highlight where a digital employee (' + state.agentName + ') can take full ownership.</p><p>You will see a mapped 90-day outcome, not just a list of tools.</p><p>From there, you can decide whether to move straight into build mode.</p></div></div><div class="mb-6 p-6 rounded-xl bg-[#F9FAFB] text-left"><h3 class="font-semibold text-[#0F172A] mb-3">Your AI Employee: ' + state.agentName + '</h3><div class="grid grid-cols-2 gap-4 text-sm"><div><p class="text-[#64748B]">Monthly savings</p><p class="font-semibold text-[#0F172A]">$' + roi.savings.toLocaleString() + '</p></div><div><p class="text-[#64748B]">Hours saved</p><p class="font-semibold text-[#0F172A]">' + roi.monthlyHours + ' hrs/mo</p></div><div><p class="text-[#64748B]">Company size</p><p class="font-semibold text-[#0F172A]">' + state.formData.companySize.replace('_', '-') + '</p></div><div><p class="text-[#64748B]">Priority</p><p class="font-semibold text-[#0F172A]">' + (state.formData.urgency === 'critical_60_days' ? 'High' : state.formData.urgency === 'sometime' ? 'Medium' : 'Low') + '</p></div></div></div><button onclick="window.open(\'https://cal.com/ibaitti\', \'_blank\')" class="btn-primary w-full mb-4">Schedule a call</button><p class="text-sm text-[#64748B]">30-minute mapping call • See where ' + state.agentName + ' fits into your workflows</p><div class="mt-8 pt-6 border-t border-[#E2E8F0] text-xs text-[#94A3B8]">© 2025 ROBOTS Inc. All systems operational.</div></div>';
        }

        function render() {
            const app = document.getElementById('app');

            if (state.isComplete) {
                app.innerHTML = renderCompletionScreen();
                return;
            }

            if (state.showIntro) {
                app
